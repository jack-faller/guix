#!/bin/sh
if xrandr -q | grep 'DP-1 connected'; then
	# Obtained this command through arandr.
	xrandr --output DP-1 --mode 2560x1440 --pos 0x0 --rotate normal \
		   --output HDMI-1 --mode 1920x1080 --pos 320x1440 --rotate normal
	bspc monitor DP-1 -d I II III IV V
	bspc monitor HDMI-1 -d VI VII VIII IX X
	bspc desktop --focus I

	bspc rule -a Steam               desktop='^4' follow=off
	bspc rule -a easyeffects         desktop='^5' follow=off
	bspc rule -a discord             desktop='^6' follow=off
	bspc rule -a transmission-gtk    desktop='^10' follow=off
else
	bspc monitor -d I II III IV V VI VII VIII IX X

	bspc rule -a Steam               desktop='^3' follow=off
	bspc rule -a discord             desktop='^4' follow=off
	bspc rule -a easyeffects         desktop='^5' follow=off
	bspc rule -a transmission-gtk    desktop='^6' follow=off
fi

bspc config border_width   4
bspc config window_gap     6
bspc config single_monocle true

# Set wallpaper.
repaper
. "${HOME}/.cache/wal/colors.sh"

#open notification daemon
dunst &

# Set the border colors.
bspc config normal_border_color  "$color1"
bspc config active_border_color  "$color2"
bspc config focused_border_color "$color15"

bspc config split_ratio        0.52
bspc config borderless_monocle true
bspc config gapless_monocle    true
bspc config ignore_ewmh_focus  true
bspc config focus_follows_pointer true

bspc rule -a Gimp      state=floating
bspc rule -a kmines    state=floating
# bspc rule -a Chromium  desktop='^2'
bspc rule -a mplayer2  state=floating
bspc rule -a Kupfer.py focus=on
bspc rule -a Screenkey manage=off

bspc rule -a mpv                 state=fullscreen
bspc rule -a "*:*:floating"      state=floating
bspc rule -a "*:*:Miny"          state=floating
bspc rule -a Gnome-mines         state=floating
bspc rule -a Emacs               state=tiled
